/* ============ THEME TOKENS (Light: 80's Retro Wave | Dark: Neon) ============ */
:root {
    /* Primary palette (light mode - 80's retro wave) */
    --primary: #00a6c8;            /* saturated teal/cyan (less pastel) */
    --primary-hover: #008faf;      /* deeper teal hover */
    --accent: #ff2d95;             /* hot magenta (reduced pastel) */

    /* Base (light mode) */
    --text: #0a0f2d;               /* deep inky navy for readability */
    --card-bg: rgba(248, 249, 255, 0.78); /* cool light glass with slight indigo */
    --input-border: #9ed7e6;       /* cool cyan border, less sugary */

    /* Background (light) */
    --bg-start: #f5f7ff;           /* cool very light */
    --bg-end: #ecf2ff;             /* pale periwinkle */

    /* Dark mode tokens */
    --dark-text: #e6faff;          /* cool near-white */
    --dark-card-bg: rgba(18, 18, 32, 0.75); /* glassy dark panel */
    --dark-input-bg: rgba(10, 10, 22, 0.6);
    --dark-input-border: #3c4b6e;  /* muted neon-blue border */
    --dark-primary: #00e5ff;       /* bright cyan on dark */
    --dark-primary-hover: #00b3d6; /* darker hover */

    /* Background (dark) */
    --bg-dark-start: #070812;      /* near-black indigo */
    --bg-dark-end: #0f1023;        /* midnight violet */

    /* Decorative */
    --wave-opacity: 0.24;
}

/* ============ PAGE LAYOUT ============ */
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
    color: var(--text);
    padding: 2rem;
    margin: 0;
    min-height: 100vh;
    min-height: 100dvh; /* modern viewport unit to avoid iOS URL bar issues */
    transition: background-color 0.3s ease, color 0.3s ease;
    /* Avoid iOS Safari/Chrome jank: background-attachment: fixed causes issues */
    background-attachment: scroll;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    overflow-x: hidden;
}

/* Constrain content width and center it responsively */
.container {
    width: 100%;
    max-width: 980px;
    margin-inline: auto;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
}

/* Ensure forms align symmetrically in the main view */
.auth-form {
    margin-left: auto;
    margin-right: auto;
}
.auth-form h2 {
    text-align: center; /* centers headings above fields for symmetric appearance */
}

/* Dark mode */
body.dark-theme {
    background: linear-gradient(135deg, var(--bg-dark-start) 0%, var(--bg-dark-end) 100%);
    color: var(--dark-text);
}

/* Titles */
.page-title {
    /* Fluid typography for better scaling across devices */
    font-size: clamp(1.6rem, 2.2vw + 0.8rem, 2.3rem);
    font-weight: 800;
    letter-spacing: 0.02em;
    color: #0a0f2d; /* deep inky navy on light */
    text-shadow: 0 2px 10px rgba(0, 166, 200, 0.18);
    margin-bottom: 0.5rem;
    text-align: center;
}
.welcome-text {
    font-size: clamp(1rem, 1.2vw + 0.6rem, 1.15rem);
    color: #2b3a66; /* cooler slate */
    text-align: center;
    margin-bottom: 2rem;
}

/* Dark mode title accents (neon glow) */
body.dark-theme .page-title { color: #e6faff; text-shadow: 0 0 14px rgba(0,229,255,0.6), 0 0 36px rgba(255,62,165,0.4); }
body.dark-theme .welcome-text { color: #c7e0ff; }

/* Theme toggle (position) */
#theme-toggle {
    position: fixed;
    top: calc(env(safe-area-inset-top, 0px) + 1rem);
    right: calc(env(safe-area-inset-right, 0px) + 1rem);
    background: linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));
    border: 1px solid rgba(0,0,0,0.06);
    font-size: 1.2rem;
    cursor: pointer;
    color: #0d1220;
    border-radius: 999px;
    width: 44px;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 26px rgba(2, 6, 23, 0.12), 0 0 0 2px rgba(255,255,255,0.3) inset;
    backdrop-filter: blur(10px) saturate(160%);
    -webkit-backdrop-filter: blur(10px) saturate(160%);
    transition: transform 0.15s ease, background-color 0.2s ease, box-shadow 0.2s ease;
    z-index: 1000;
}
#theme-toggle:hover { transform: translateY(-2px); box-shadow: 0 14px 30px rgba(0, 229, 255, 0.35), 0 0 0 2px rgba(255,62,165,0.25) inset; }
#theme-toggle:active { transform: scale(0.96); }
body.dark-theme #theme-toggle {
    background: linear-gradient(135deg, rgba(0,229,255,0.18), rgba(255,62,165,0.18));
    color: var(--dark-text);
    border-color: rgba(0,229,255,0.35);
    box-shadow: 0 8px 26px rgba(0, 229, 255, 0.25), 0 0 0 2px rgba(255,62,165,0.15) inset;
}

/* ============ DECORATIVE BACKGROUND ============ */
@keyframes waveFloat {
    0% { background-position: 50% 0; }
    50% { background-position: 52% 2px; }
    100% { background-position: 50% 0; }
}
/* Top waves (light mode: 80's retro wave neon lines) */
body::before {
    content: "";
    position: fixed;
    inset: 0 0 auto 0;
    height: max(60vh, 680px);
    /* Stack multiple neon stroke waves (teal/magenta/indigo) */
    background-image:
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="lg1" x1="0" x2="1"><stop offset="0%" stop-color="%2300a6c8"/><stop offset="100%" stop-color="%23ff2d95"/></linearGradient></defs><path d="M0,160 C180,120 360,220 540,200 C720,180 900,120 1080,160 C1260,200 1440,180 1440,180" fill="none" stroke="url(%23lg1)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.65"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="lg2" x1="0" x2="1"><stop offset="0%" stop-color="%23008faf"/><stop offset="100%" stop-color="%238a2be2"/></linearGradient></defs><path d="M0,190 C200,230 380,170 560,200 C740,230 960,260 1140,220 C1320,180 1440,200 1440,200" fill="none" stroke="url(%23lg2)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.55"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="lg3" x1="0" x2="1"><stop offset="0%" stop-color="%23ff2d95"/><stop offset="100%" stop-color="%2300a6c8"/></linearGradient></defs><path d="M0,140 C220,100 420,140 640,160 C860,180 1120,140 1300,160 C1380,168 1440,172 1440,172" fill="none" stroke="url(%23lg3)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" opacity="0.5"/></svg>');
    background-repeat: no-repeat, no-repeat, no-repeat;
    background-position: top center, 12% 88px, right 6% top 150px;
    background-size: cover, 120% auto, 110% auto;
    z-index: -1;
    opacity: 1;
    animation: waveFloat 18s ease-in-out infinite, neonWaveGlowLight 5.2s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 10px rgba(0,166,200,0.35)) drop-shadow(0 0 20px rgba(255,45,149,0.25));
}

/* Bottom waves (light mode) */
body .neon-bottom-waves {
    pointer-events: none;
    position: fixed;
    inset: auto 0 0 0;
    height: max(40vh, 360px);
    background-image:
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bl1" x1="0" x2="1"><stop offset="0%" stop-color="%2300a6c8"/><stop offset="100%" stop-color="%23ff2d95"/></linearGradient></defs><path d="M0,200 C180,240 360,140 540,160 C720,180 900,240 1080,200 C1260,160 1440,180 1440,180" fill="none" stroke="url(%23bl1)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.6"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bl2" x1="0" x2="1"><stop offset="0%" stop-color="%23008faf"/><stop offset="100%" stop-color="%238a2be2"/></linearGradient></defs><path d="M0,230 C200,190 380,250 560,220 C740,190 960,160 1140,200 C1320,240 1440,220 1440,220" fill="none" stroke="url(%23bl2)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.5"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bl3" x1="0" x2="1"><stop offset="0%" stop-color="%23ff2d95"/><stop offset="100%" stop-color="%2300a6c8"/></linearGradient></defs><path d="M0,260 C220,300 420,260 640,240 C860,220 1120,260 1300,240 C1380,232 1440,228 1440,228" fill="none" stroke="url(%23bl3)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" opacity="0.45"/></svg>');
    background-repeat: no-repeat, no-repeat, no-repeat;
    background-position: center bottom, 12% 90%, 94% 78%;
    background-size: cover, 120% auto, 110% auto;
    z-index: -1;
    animation: waveFloat 18s ease-in-out infinite reverse, neonWaveGlowLight 5.2s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 10px rgba(0,166,200,0.35)) drop-shadow(0 0 20px rgba(255,45,149,0.25));
}

/* Dark mode waves and glow */
body.dark-theme::before {
    content: "";
    position: fixed;
    inset: 0 0 auto 0;
    height: max(62vh, 700px);
    /* Stack multiple neon line waves (cyan/magenta) */
    background-image:
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="s1" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,160 C180,120 360,220 540,200 C720,180 900,120 1080,160 C1260,200 1440,180 1440,180" fill="none" stroke="url(%23s1)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="s2" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,190 C200,230 380,170 560,200 C740,230 960,260 1140,220 C1320,180 1440,200 1440,200" fill="none" stroke="url(%23s2)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.8"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="s3" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,140 C220,100 420,140 640,160 C860,180 1120,140 1300,160 C1380,168 1440,172 1440,172" fill="none" stroke="url(%23s3)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.75"/></svg>');
    background-repeat: no-repeat, no-repeat, no-repeat;
    background-position: top center, 10% 80px, right 5% top 140px;
    background-size: cover, 120% auto, 110% auto;
    z-index: -1;
    opacity: 1;
    animation: waveFloat 18s ease-in-out infinite, neonWaveGlowDark 5.2s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 14px rgba(0,229,255,0.45)) drop-shadow(0 0 28px rgba(255,62,165,0.32));
}

/* Bottom waves (dark mode) */
body.dark-theme .neon-bottom-waves {
    background-image:
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bd1" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,200 C180,240 360,140 540,160 C720,180 900,240 1080,200 C1260,160 1440,180 1440,180" fill="none" stroke="url(%23bd1)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.85"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bd2" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,230 C200,190 380,250 560,220 C740,190 960,160 1140,200 C1320,240 1440,220 1440,220" fill="none" stroke="url(%23bd2)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.75"/></svg>'),
      url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bd3" x1="0" x2="1"><stop offset="0%" stop-color="%2300e5ff"/><stop offset="100%" stop-color="%23ff3ea5"/></linearGradient></defs><path d="M0,260 C220,300 420,260 640,240 C860,220 1120,260 1300,240 C1380,232 1440,228 1440,228" fill="none" stroke="url(%23bd3)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.65"/></svg>');
    animation: waveFloat 18s ease-in-out infinite reverse, neonWaveGlowDark 5.2s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 14px rgba(0,229,255,0.45)) drop-shadow(0 0 28px rgba(255,62,165,0.32));
}

/* Ambient glow (light: pastel cyan) */
@keyframes glowPulse {
    0% { transform: translateY(0) scale(1); opacity: 0.9; }
    50% { transform: translateY(-6px) scale(1.06); opacity: 1; }
    100% { transform: translateY(0) scale(1); opacity: 0.9; }
}
body::after {
    content: '';
    position: fixed;
    top: 12%;
    left: -120px;
    width: 380px;
    height: 380px;
    background: radial-gradient(circle, rgba(0,188,212,0.22) 0%, transparent 70%);
    filter: blur(70px);
    z-index: -2;
    animation: glowPulse 12s ease-in-out infinite;
}

/* Respect reduced motion preferences (mobile accessibility) */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
        scroll-behavior: auto !important;
    }
}

/* Dark mode glow */
body.dark-theme::after {
    content: '';
    position: fixed;
    top: 20%;
    right: -140px;
    width: 460px;
    height: 460px;
    background: radial-gradient(circle, rgba(255,62,165,0.22) 0%, transparent 70%);
    filter: blur(90px);
    z-index: -2;
    animation: glowPulse 14s ease-in-out infinite;
}

/* ============ RESPONSIVE ============ */
@media (max-width: 900px) {
    /* Tablet tweaks: reduce outer padding slightly and scale headings */
    body { padding: 1.5rem; }
    .page-title { font-size: 1.8rem; }
    .welcome-text { font-size: 1.05rem; }
    /* Keep toggle within safe area but bring slightly closer on medium screens */
    #theme-toggle {
        top: calc(env(safe-area-inset-top, 0px) + 0.75rem);
        right: calc(env(safe-area-inset-right, 0px) + 0.75rem);
    }
    /* Ensure decorative backgrounds don't overflow on tablets */
    body::before { background-size: cover, 115% auto, 108% auto; background-position: top center, 10% 84px, right 6% top 140px; }
    body.dark-theme::before { background-size: cover, 115% auto, 108% auto; background-position: top center, 9% 78px, right 5% top 132px; }
}

@media (max-width: 600px) {
    body { padding: 1rem; }
    .container { gap: 1.25rem; }
    .page-title { font-size: 1.65rem; }
    .welcome-text { font-size: 1.05rem; }
    #theme-toggle {
        font-size: 1.3rem;
        top: calc(env(safe-area-inset-top, 0px) + 0.5rem);
        right: calc(env(safe-area-inset-right, 0px) + 0.5rem);
    }
    /* Make header CTA wrap neatly on narrow screens */
    header span { display: none; } /* hide long text to save space */
    /* Improve gradient/waves scaling on small screens */
    body::before { background-size: cover, 130% auto, 120% auto; background-position: top center, 8% 76px, right 6% top 128px; }
    body.dark-theme::before { background-size: cover, 130% auto, 120% auto; background-position: top center, 7% 70px, right 5% top 120px; }
    /* On small phones, slightly reduce glow dimensions to avoid overflow */
    body::after { width: 300px; height: 300px; left: -110px; }
    body.dark-theme::after { width: 360px; height: 360px; right: -130px; }
}

/* ============ GLOBAL RESPONSIVE MEDIA & ACCESSIBILITY ============ */
img, picture, video, canvas, svg {
    max-width: 100%;
    height: auto;
}

/* Visually hidden utility for accessible labels/instructions */
.visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* Improve mobile touch behavior */
html, body {
    -webkit-tap-highlight-color: transparent; /* remove grey highlight on iOS/Android */
}
button, a, [role="button"], .btn-primary, .btn-secondary {
    touch-action: manipulation; /* remove 300ms delay on old mobile browsers */
}

/* Enable clear focus rings for keyboard/touch accessibility */
#theme-toggle:focus-visible,
.auth-form button:focus-visible,
.btn-primary:focus-visible,
.btn-secondary:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgba(0, 166, 200, 0.3), 0 0 0 6px rgba(255, 45, 149, 0.2);
}


/* ============ NEON WAVE GLOW ANIMATIONS ============ */
@keyframes neonWaveGlowLight {
    0%   { filter: drop-shadow(0 0 10px rgba(0,166,200,0.35)) drop-shadow(0 0 20px rgba(255,45,149,0.25)) saturate(120%); }
    50%  { filter: drop-shadow(0 0 18px rgba(0,166,200,0.55)) drop-shadow(0 0 34px rgba(255,45,149,0.35)) saturate(150%); }
    100% { filter: drop-shadow(0 0 10px rgba(0,166,200,0.35)) drop-shadow(0 0 20px rgba(255,45,149,0.25)) saturate(120%); }
}
@keyframes neonWaveGlowDark {
    0%   { filter: drop-shadow(0 0 12px rgba(0,229,255,0.45)) drop-shadow(0 0 24px rgba(255,62,165,0.32)) saturate(140%); }
    50%  { filter: drop-shadow(0 0 22px rgba(0,229,255,0.65)) drop-shadow(0 0 42px rgba(255,62,165,0.45)) saturate(180%); }
    100% { filter: drop-shadow(0 0 12px rgba(0,229,255,0.45)) drop-shadow(0 0 24px rgba(255,62,165,0.32)) saturate(140%); }
}
